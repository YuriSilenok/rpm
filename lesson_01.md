# Лекция: Структуры проектов в Python

## Значение структуры проекта

Когда вы начинаете новый проект на Python, правильная организация файлов и директорий становится критически важной. Это не только облегчает работу над проектом, но и помогает другим разработчикам понять вашу структуру, если они присоединятся к проекту. Хорошо организованный проект упрощает:

- Поиск нужных файлов.
- Управление зависимостями.
- Поддержку кода в долгосрочной перспективе.

## Основные компоненты проекта на Python

Типичный проект на Python будет состоять из различных файлов и папок. Вот основные компоненты, которые вы можете ожидать увидеть:

- **Основные скрипты**: файлы с расширением `.py`, которые содержат основной код вашего приложения.
- **Папка с модулями**: отдельные модули, которые могут быть импортированы в основные скрипты.
- **Тесты**: папка с тестами для вашего кода, обычно с использованием фреймворка, такого как `unittest` или `pytest`.
- **Документация**: файлы с документацией, описывающие, как использовать проект и его функции.

## Стандартная структура проекта

Простой пример структуры проекта может выглядеть так:

```bash
my_project/
│
├── README.md
├── requirements.txt
├── .gitignore
├── venv/
│
├── src/
│   ├── __init__.py
│   ├── main.py
│   └── module.py
│
└── tests/
    ├── __init__.py
    └── test_module.py
```

### Описание компонентов:

- **README.md**: файл с описанием проекта, который обычно содержит инструкции по установке и использованию.
- **requirements.txt**: список зависимостей, необходимых для работы проекта.
- **venv/**: папка с виртуальным окружением, где находятся все зависимости.
- **src/**: папка с исходным кодом вашего проекта.
- **tests/**: папка с тестами для проверки вашего кода.

## Использование виртуальных окружений

Виртуальные окружения позволяют вам создавать изолированные среды для ваших проектов, что особенно полезно, когда у вас несколько проектов с различными зависимостями. Чтобы создать виртуальное окружение, вы можете использовать встроенный модуль `venv`:

```bash
python -m venv venv
```

Это создаст папку `venv/`, в которой будут храниться все зависимости, необходимые для вашего проекта.

### Активация виртуального окружения

После создания виртуального окружения его необходимо активировать. В зависимости от операционной системы команда будет различаться:

- **На Windows**:
  ```bash
  venv\Scripts\activate
  ```
- **На macOS и Linux**:
  ```bash
  source venv/bin/activate
  ```

После активации в терминале появится префикс `(venv)`, указывающий, что вы работаете в виртуальном окружении.

## Управление зависимостями

Зависимости — это сторонние библиотеки, которые вы используете в своем проекте. Для удобства их установки и управления создается файл `requirements.txt`, где перечисляются все необходимые библиотеки. Пример содержимого файла:

```
flask==2.0.1
requests==2.25.1
```

Чтобы установить зависимости из этого файла, используйте команду:

```bash
pip install -r requirements.txt
```

Это автоматически установит все указанные библиотеки в ваше виртуальное окружение.

## Как запускать проект на Python

Запуск проекта на Python включает в себя несколько ключевых шагов: настройка окружения, запуск основного кода и выполнение тестов. Рассмотрим каждый из этих этапов.

### 1. Настройка виртуального окружения

Если виртуальное окружение еще не создано, то сначала его нужно создать, как описано выше:

```bash
python -m venv venv
```

Далее активируем окружение:

- **На Windows**:
  ```bash
  venv\Scripts\activate
  ```
- **На macOS и Linux**:
  ```bash
  source venv/bin/activate
  ```

Теперь можно устанавливать зависимости.

### 2. Установка зависимостей

Если в проекте есть файл `requirements.txt`, все зависимости можно установить с помощью команды:

```bash
pip install -r requirements.txt
```

### 3. Запуск основного кода

После установки зависимостей можно запустить основной файл проекта. Обычно это файл `main.py`, который находится в папке `src/`:

```bash
python src/main.py
```

### 4. Запуск тестов

Если в проекте есть тесты, их нужно запускать, чтобы убедиться, что всё работает корректно. Для этого можно использовать один из популярных фреймворков:

- **unittest**:
  ```bash
  python -m unittest discover -s tests
  ```
- **pytest**:
  ```bash
  pytest tests/
  ```

### 5. Деактивация виртуального окружения

Когда вы закончите работу с проектом, виртуальное окружение можно деактивировать командой:

```bash
deactivate
```

Это вернет терминал к работе в обычной среде.

## Заключение

Правильная структура проекта — это основа успешной разработки на Python. С четкой организацией файлов и папок вы сможете:

- Легко находить нужные файлы.
- Управлять зависимостями.
- Поддерживать проект в долгосрочной перспективе.

Кроме того, правильная структура проекта упрощает сотрудничество с другими разработчиками, делает проект более читаемым и уменьшает вероятность ошибок при его поддержке.